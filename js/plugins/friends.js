const friendsjs={requestAPI:(a,o,s)=>{let i=5;function l(){return new Promise((t,e)=>{let n=0;let r=setTimeout(()=>{if(n===0){n=2;r=null;e("请求超时");if(i==0){s()}}},5e3);fetch(a).then(function(e){if(n!==2){clearTimeout(r);t(e);r=null;n=1}if(e.ok){return e.json()}throw new Error("Network response was not ok.")}).then(function(e){i=0;o(e)}).catch(function(e){if(i>0){i-=1;setTimeout(()=>{l()},5e3)}else{s()}})})}l()},layout:r=>{const a=$(r.el)[0];$(a).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>');friendsjs.requestAPI(r.api,function(e){$(a).find(".loading-wrap").remove();const t=e.content||e;console.log(e);t.forEach((e,t)=>{var n='<div class="user-card">';n+='<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer"';n+=' href="'+(e.html_url||e.url)+'">';n+='<img src="'+(e.avatar_url||e.avatar||r.avatar)+'" onerror="javascript:this.src=\''+r.avatar+"';\">";n+='<div class="name"><span>'+(e.title||e.login)+"</span></div>";n+="</a>";n+="</div>";$(a).find(".group-body").append(n)})},function(){$(a).find(".loading-wrap svg").remove();$(a).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){const e=document.getElementsByClassName("friendsjs-wrap");for(var t=0;t<e.length;t++){const r=e[t];const a=r.getAttribute("api");if(a==null){continue}var n=new Object;n.el=r;n.api=a;n.class=r.getAttribute("class");n.avatar="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/avatar/round/3442075.svg";friendsjs.layout(n)}});