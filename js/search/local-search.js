var searchFunc=function(r,m,a,i){function s(r){var t,n,e=[];for(t=0;t<r.length;t++){for(n=t+1;n<r.length+1;n++){e.push(r.slice(t,n).join(" "))}}return e}$.ajax({url:r,dataType:"json",success:function(r){var n=r;var t=document.getElementById(a);if(!t){return}var e=document.getElementById(i);t.addEventListener("input",function(){var g=[];var d=s(this.value.trim().toLowerCase().split(" ")).sort(function(r,t){return t.split(" ").length-r.split(" ").length});e.innerHTML="";if(this.value.trim().length<=0){return}n.forEach(function(r){if(!r.title?.trim().length){return}if(!r.content?.trim().length){return}var t=0;if(m&&!r.path.includes(m)){return}var n=r.title.trim();var e=n.toLowerCase();var a=r.content;var i=a.toLowerCase();var s=r.path;var l=-1;var u=-1;var f=-1;if(a!==""){d.forEach(function(r){l=e.indexOf(r);u=i.indexOf(r);if(l>=0||u>=0){t+=1;if(u<0){u=0}if(f<0){f=u}}})}if(t>0){var c={};c.rank=t;c.str="<li><a href='"+s+"'><span class='search-result-title'>"+n+"</span>";if(f>=0){var o=f-20;var v=f+80;if(o<0){o=0}if(o==0){v=100}if(v>a.length){v=a.length}var h=a.substring(o,v);var p=new RegExp(d.join("|"),"gi");h=h.replace(p,function(r){return'<span class="search-keyword">'+r+"</span>"});c.str+='<p class="search-result-content">'+h+"...</p>"}c.str+="</a></li>";g.push(c)}});if(g.length){g.sort(function(r,t){return t.rank-r.rank});var r='<ul class="search-result-list">';for(var t=0;t<g.length;t++){r+=g[t].str}r+="</ul>";e.innerHTML=r}})}})};